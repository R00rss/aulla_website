---
type Props = {
  title: string;
};

const { title } = Astro.props;
---

<h1
  id="hero-title"
  class="text-4xl font-bold text-center max-w-sm mx-auto text-primary"
>
  {title}
</h1>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);

  function init() {
    const title = document.querySelector("#hero-title");

    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: title,
        start: "top 80%",
        end: "bottom 60%",
        toggleActions: "play none none reverse",
      },
    });

    tl.fromTo(
      title,
      { opacity: 0, y: 50 },
      { opacity: 1, y: 0, duration: 1, ease: "power2.out" }
    );
  }
  function main() {
    init();
  }

  document.addEventListener("DOMContentLoaded", main);
</script>
